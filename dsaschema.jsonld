{
    "@context": {
        "@vocab": "https://socialcaredata.github.io/spec/",
        "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
        "xsd": "http://www.w3.org/2001/XMLSchema#",
        "sh": "http://www.w3.org/ns/shacl#",
        "odrl": "http://www.w3.org/ns/odrl/2/"
    },
    "@type": "rdfs:Class",
    "rdfs:label": "DSA",
    "rdfs:comment": "Data Sharing Agreement schema aligned to dsa.md with ODRL rule node shapes",
    "sh:property": [
        {
            "@type": "sh:PropertyShape",
            "sh:path": "URI",
            "sh:datatype": "xsd:anyURI",
            "sh:minCount": 1,
            "sh:maxCount": 1,
            "rdfs:seeAlso": "odrl:policy"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "DataProviderCatalogueID",
            "sh:datatype": "xsd:string",
            "sh:minCount": 1,
            "rdfs:seeAlso": "odrl:assigner"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "DataRecipientCatalogueID",
            "sh:datatype": "xsd:string",
            "sh:minCount": 1,
            "rdfs:seeAlso": "odrl:assignee"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "Data",
            "sh:minCount": 1,
            "sh:or": [
                {"sh:datatype": "xsd:string"},
                {"sh:datatype": "xsd:anyURI"}
            ],
            "rdfs:seeAlso": "odrl:target"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "Purpose",
            "sh:datatype": "xsd:string",
            "sh:minCount": 1,
            "sh:nodeKind": "sh:IRI",
            "sh:class": "https://socialcaredata.github.io/spec/controlled-vocabularies/DSAPurpose",
            "rdfs:seeAlso": "odrl:purpose"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "StartDate",
            "sh:datatype": "xsd:dateTime",
            "sh:minCount": 1,
            "rdfs:seeAlso": "odrl:dateTime"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "EndDate",
            "sh:datatype": "xsd:dateTime",
            "sh:minCount": 1,
            "rdfs:seeAlso": "odrl:until"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "PermittedUse",
            "sh:minCount": 0,
            "sh:node": {
                "@type": "rdfs:Class",
                "rdfs:label": "ODRL Permission",
                "sh:property": [
                    {
                        "sh:path": "action",
                        "sh:nodeKind": "sh:IRI",
                        "sh:minCount": 1,
                        "rdfs:seeAlso": "odrl:action"
                    },
                    {
                        "sh:path": "target",
                        "sh:nodeKind": "sh:IRI",
                        "sh:minCount": 1,
                        "rdfs:seeAlso": "odrl:target"
                    },
                    {
                        "sh:path": "assignee",
                        "sh:nodeKind": "sh:IRI",
                        "rdfs:seeAlso": "odrl:assignee"
                    },
                    {
                        "sh:path": "constraint",
                        "sh:nodeKind": "sh:IRI",
                        "rdfs:seeAlso": "odrl:constraint"
                    }
                ]
            },
            "rdfs:seeAlso": "odrl:permission"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "Restrictions",
            "sh:minCount": 0,
            "sh:node": {
                "@type": "rdfs:Class",
                "rdfs:label": "ODRL Prohibition",
                "sh:property": [
                    {
                        "sh:path": "action",
                        "sh:nodeKind": "sh:IRI",
                        "sh:minCount": 1,
                        "rdfs:seeAlso": "odrl:action"
                    },
                    {
                        "sh:path": "target",
                        "sh:nodeKind": "sh:IRI",
                        "rdfs:seeAlso": "odrl:target"
                    },
                    {
                        "sh:path": "assigner",
                        "sh:nodeKind": "sh:IRI",
                        "rdfs:seeAlso": "odrl:assigner"
                    },
                    {
                        "sh:path": "constraint",
                        "sh:nodeKind": "sh:IRI",
                        "rdfs:seeAlso": "odrl:constraint"
                    }
                ]
            },
            "rdfs:seeAlso": "odrl:prohibition"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "DataRecipientResponsibilities",
            "sh:minCount": 0,
            "sh:node": {
                "@type": "rdfs:Class",
                "rdfs:label": "ODRL Duty",
                "sh:property": [
                    {
                        "sh:path": "action",
                        "sh:nodeKind": "sh:IRI",
                        "rdfs:seeAlso": "odrl:duty"
                    },
                    {
                        "sh:path": "constraint",
                        "sh:nodeKind": "sh:IRI",
                        "rdfs:seeAlso": "odrl:constraint"
                    }
                ]
            },
            "rdfs:seeAlso": "odrl:duty"
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "SecurityMeasure",
            "sh:minCount": 0,
            "sh:node": {
                "@type": "rdfs:Class",
                "rdfs:label": "Security Measure",
                "sh:property": [
                    {
                        "sh:path": "method",
                        "sh:datatype": "xsd:string"
                    },
                    {
                        "sh:path": "constraint",
                        "sh:nodeKind": "sh:IRI",
                        "rdfs:seeAlso": "odrl:constraint"
                    }
                ]
            },
            "rdfs:seeAlso": ["odrl:duty", "odrl:constraint"]
        },
        {
            "@type": "sh:PropertyShape",
            "sh:path": "LegalCompliance",
            "sh:nodeKind": "sh:IRI",
            "rdfs:seeAlso": "odrl:constraint"
        }
    ]
}
